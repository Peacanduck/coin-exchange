[{"C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\index.js":"1","C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\App.js":"2","C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\serviceWorker.js":"3","C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\components\\AccountBalance\\AccountBalance.jsx":"4","C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\components\\CoinList\\CoinList.jsx":"5","C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\components\\Coin\\Coin.jsx":"6","C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\components\\Headers\\ExchangeHeader.jsx":"7"},{"size":503,"mtime":499162500000,"results":"8","hashOfConfig":"9"},{"size":3456,"mtime":1613287509504,"results":"10","hashOfConfig":"9"},{"size":5086,"mtime":499162500000,"results":"11","hashOfConfig":"9"},{"size":1012,"mtime":1613219672338,"results":"12","hashOfConfig":"9"},{"size":1383,"mtime":1613346580562,"results":"13","hashOfConfig":"9"},{"size":1507,"mtime":1613346918424,"results":"14","hashOfConfig":"9"},{"size":939,"mtime":1612344560581,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"vrnrak",{"filePath":"19","messages":"20","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\index.js",[],["32","33"],"C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\App.js",["34","35","36"],"import React from 'react';\nimport ExchangeHeader from './components/Headers/ExchangeHeader';\nimport AccountBalance from './components/AccountBalance/AccountBalance'\nimport CoinList from './components/CoinList/CoinList';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport Web3 from 'web3';\n\n\nconst DivApp = styled.div`\ntext-align: center;\nbackground-color: blue;\ncolor: #cccccc;\n`;\n\nconst COIN_COUNT = 30;\n\nconst formatPrice = price => Number(parseFloat(Number(price)).toFixed(4));\n\nfunction insertPrice(data, key){\n  \n   let val = data.data.find(x => x.id === key);  \n   let price = val.quotes['USD'].price;\n   \n  return Number(parseFloat(Number(price)).toFixed(4));\n  \n}\n\nfunction App(props) {\n  let web3;\n  const [balance, setBalance] = useState(10000);\n  const [visible, setVisible] = useState(true);\n  const [coinData, setCoinData] = useState([]);\n  const [accounts, setAccounts] = useState([]);\n\n  useEffect(function(){\n    if(coinData.length === 0) {\n//mount\n\ncomponentDidMount();\n    }\n    \n  });\n\n  window.ethereum.on('accountsChanged', function (accounts){\n    setAccounts(accounts);\n    console.log(\"here\");\nconsole.log(accounts);\n  });\n\n  async function ConnectMetaMask(){\n    if (window.ethereum) {\n     web3 = new Web3(window.ethereum);\n      try { \n         window.ethereum.enable().then(async function() {\n             // User has allowed account access to DApp...\n             const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n             \n             setAccounts(accounts);\n             console.log(\"there\");\n             console.log(accounts);\n         });\n      } catch(e) {\n         // User has denied account access to DApp...\n      }\n   }\n   // Legacy DApp Browsers\n   else if (window.web3) {\n       web3 = new Web3(window.web3.currentProvider);\n   }\n   // Non-DApp Browsers\n   else {\n       alert('You have to install MetaMask !');\n   }\n    \n  }\n\nconst componentDidMount = async () => {\n  \n  let coinResponses = await Promise.all([\n    axios.get('https://api.coinpaprika.com/v1/coins'),\n    axios.get('https://api.coinpaprika.com/v1/tickers')\n    \n  ]);\n let coinData = coinResponses[0].data.slice(0,COIN_COUNT).map(function(coin){\n    return {\n      key: coin.id,\n      name: coin.name,\n      ticker: coin.symbol,\n      balance: 0,\n      price: insertPrice(coinResponses[1],coin.id)   \n   };\n   \n });\n \n setCoinData(coinData);\n \n }\n   \n const handleRefresh = async (nKey) => {\n    let priceOb = await axios.get('https://api.coinpaprika.com/v1/tickers/'+nKey);\n    let newPrice = Number(parseFloat(Number(priceOb.data.quotes['USD'].price).toFixed(4)));\n     const newCoinData = coinData.map(function(values){\n        let newValue = {...values};\n        console.log(values);\n        console.log(newValue);\n        if (nKey === values.key) {\n          newValue.price = newPrice;\n        }\n       \n        return newValue;\n     });\n     setCoinData(newCoinData);\n    }\n\n    const handleHide = () => {\n      setVisible(oldValue => !oldValue)\n     }\n  \n  return (\n    <DivApp className=\"App\">\n      <ExchangeHeader/>\n      <AccountBalance amount={balance} account={accounts[0] || \"no account selected\"} showBalance={visible} handleHide={handleHide} enableEth={ConnectMetaMask}/>\n      <CoinList visible={visible} coinData={coinData} handleRefresh={handleRefresh} />\n    </DivApp>\n  );\n\n \n}\n\nexport default App;\n","C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\serviceWorker.js",[],"C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\components\\AccountBalance\\AccountBalance.jsx",[],"C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\components\\CoinList\\CoinList.jsx",[],"C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\components\\Coin\\Coin.jsx",[],"C:\\Users\\jesse\\Documents\\Code\\coin-exchange\\src\\components\\Headers\\ExchangeHeader.jsx",[],{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":20,"column":7,"nodeType":"43","messageId":"44","endLine":20,"endColumn":18},{"ruleId":"41","severity":1,"message":"45","line":33,"column":19,"nodeType":"43","messageId":"44","endLine":33,"endColumn":29},{"ruleId":"41","severity":1,"message":"46","line":71,"column":8,"nodeType":"43","messageId":"44","endLine":71,"endColumn":12},"no-native-reassign",["47"],"no-negated-in-lhs",["48"],"no-unused-vars","'formatPrice' is assigned a value but never used.","Identifier","unusedVar","'setBalance' is assigned a value but never used.","'web3' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]